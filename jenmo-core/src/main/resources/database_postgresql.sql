CREATE TABLE EDGE (ID BIGSERIAL NOT NULL, CASCADED BOOL, IDX VARCHAR(255), KIND INTEGER, VERSION INTEGER, TO_ID BIGINT NOT NULL, FROM_ID BIGINT NOT NULL, PRIMARY KEY (ID));
CREATE TABLE NODE (ID BIGSERIAL NOT NULL, COMMENT VARCHAR(255), DTCREATION BIGINT, DTUPDATE BIGINT, IDOWNER INTEGER, ISROOT BOOL, NAME VARCHAR(255), VERSION INTEGER, NODETYPE_ID BIGINT, PRIMARY KEY (ID));
CREATE TABLE NODEFIELD (ID BIGSERIAL NOT NULL, FTYPE VARCHAR(255) NOT NULL, BLOB_ID BIGINT NOT NULL, NODE_ID BIGINT NOT NULL, PRIMARY KEY (ID));
CREATE TABLE NODEPROPERTY (ID BIGSERIAL NOT NULL, IDX VARCHAR(255), VALUE VARCHAR(255), VERSION INTEGER, NODE_ID BIGINT NOT NULL, PROP_ID BIGINT NOT NULL, PRIMARY KEY (ID));
CREATE TABLE NODEREVISION (ID BIGSERIAL NOT NULL, CONTEXT VARCHAR(255), REVISED_ID BIGINT NOT NULL, REVISION_ID BIGINT NOT NULL, PRIMARY KEY (ID));
CREATE TABLE NODETYPE (ID BIGSERIAL NOT NULL, NTYPE VARCHAR(255) NOT NULL, PRIMARY KEY (ID), CONSTRAINT UNQ_NTYPE UNIQUE (NTYPE));
CREATE TABLE PROPERTY (ID BIGSERIAL NOT NULL, NAME VARCHAR(255) NOT NULL, VERSION INTEGER, PRIMARY KEY (ID), CONSTRAINT UNQ_NAME UNIQUE (NAME));
CREATE TABLE PROPERTY_NODETYPE (PROPERTY_ID BIGINT, NODETYPE_ID BIGINT);
CREATE TABLE SPLITBLOB (ID BIGSERIAL NOT NULL, NUMELT BIGINT, NUMELTEACHPART INTEGER, PTYPE SMALLINT, SHAPE VARCHAR(255) NOT NULL, VERSION INTEGER, PRIMARY KEY (ID));
CREATE TABLE SPLITBLOBPART (ID BIGSERIAL NOT NULL, DATA OID, DATASIZE INTEGER, ORDR INTEGER, VERSION INTEGER, PARENT_ID BIGINT NOT NULL, PRIMARY KEY (ID)) WITH (OIDS=TRUE);
CREATE INDEX I_EDGE_FROM ON EDGE (FROM_ID);
CREATE INDEX I_EDGE_TO ON EDGE (TO_ID);
CREATE INDEX I_NODE_NODETYPE ON NODE (NODETYPE_ID);
CREATE INDEX I_NODFILD_BLOB ON NODEFIELD (BLOB_ID);
CREATE INDEX I_NODFILD_NODE ON NODEFIELD (NODE_ID);
CREATE INDEX I_NDPRRTY_NODE ON NODEPROPERTY (NODE_ID);
CREATE INDEX I_NDPRRTY_PROP ON NODEPROPERTY (PROP_ID);
CREATE INDEX I_NDRVSON_REVISED ON NODEREVISION (REVISED_ID);
CREATE INDEX I_NDRVSON_REVISION ON NODEREVISION (REVISION_ID);
CREATE INDEX I_PRPRTYP_ELEMENT ON PROPERTY_NODETYPE (NODETYPE_ID);
CREATE INDEX I_PRPRTYP_PROPERTY_ID ON PROPERTY_NODETYPE (PROPERTY_ID);
CREATE INDEX I_SPLTPRT_PARENT ON SPLITBLOBPART (PARENT_ID);

ALTER SEQUENCE NODE_ID_SEQ INCREMENT BY 50 START WITH 50;
ALTER SEQUENCE EDGE_ID_SEQ INCREMENT BY 50 START WITH 50;
ALTER SEQUENCE NODEFIELD_ID_SEQ INCREMENT BY 10 START WITH 10;
ALTER SEQUENCE NODEPROPERTY_ID_SEQ INCREMENT BY 50 START WITH 50;
ALTER SEQUENCE NODEREVISION_ID_SEQ INCREMENT BY 10 START WITH 10;
ALTER SEQUENCE NODETYPE_ID_SEQ INCREMENT BY 10 START WITH 10;
ALTER SEQUENCE PROPERTY_ID_SEQ INCREMENT BY 10 START WITH 10;
ALTER SEQUENCE SPLITBLOB_ID_SEQ INCREMENT BY 10 START WITH 10;
ALTER SEQUENCE SPLITBLOBPART_ID_SEQ INCREMENT BY 10 START WITH 10;

ALTER SEQUENCE NODE_ID_SEQ RESTART;
ALTER SEQUENCE EDGE_ID_SEQ RESTART;
ALTER SEQUENCE NODEFIELD_ID_SEQ RESTART;
ALTER SEQUENCE NODEPROPERTY_ID_SEQ RESTART;
ALTER SEQUENCE NODEREVISION_ID_SEQ RESTART;
ALTER SEQUENCE NODETYPE_ID_SEQ RESTART;
ALTER SEQUENCE PROPERTY_ID_SEQ RESTART;
ALTER SEQUENCE SPLITBLOB_ID_SEQ RESTART;
ALTER SEQUENCE SPLITBLOBPART_ID_SEQ RESTART;